@layer components {

  .inlines {
    @apply py-[var(--gap-blocks)];
  }

  .layout, .blocks {
    @apply grid;
    grid-template-columns:
      [full-start] var(--full)
      [feature-start] var(--feature)
      [popout-start] var(--popout)
      [content-start] var(--content)
      [content-end]
      var(--popout) [popout-end]
      var(--feature) [feature-end]
      var(--full) [full-end];
  }

  /* LAYOUT */
  .layout {
    > :not(.blocks):not([class]) {
      @apply [grid-column:content];
    }

    > .layout__content {
      @apply [grid-column:content];
    }

    > .layout__popout {
      @apply [grid-column:popout];
    }

    > .layout__feature {
      @apply [grid-column:feature];
    }

    > .layout__full {
      @apply [grid-column:full];
    }
  }

  /* BLOCKS */
  .blocks {
    @apply [grid-column:full];

    > *:not(class) {
      @apply [grid-column:content];
    }

    > .blocks__content {
      @apply py-[var(--gap-blocks)] [grid-column:content];
    }

    > .blocks__popout {
      @apply py-[var(--gap-blocks)] [grid-column:popout];
    }

    > .blocks__feature {
      @apply py-[var(--gap-blocks)] [grid-column:feature];
    }

    > .blocks__full {
      @apply py-[var(--gap-blocks)] [grid-column:full];
    }

    > .blocks__content-to-feature {
      @apply py-[var(--gap-blocks)] [grid-column:content-start/feature-end];
    }

    > .blocks__feature-to-content {
      @apply py-[var(--gap-blocks)] [grid-column:feature-start/content-end];
    }

    > .blocks__content-to-full {
      @apply py-[var(--gap-blocks)] [grid-column:content-start/full-end];
    }

    > .blocks__full-to-content {
      @apply py-[var(--gap-blocks)] [grid-column:full-start/content-end];
    }
  }

  .blocks--invert {
    @apply bg-gray-200;
  }

  .blocks--header {
    > .blocks__content {
      @apply mb-0;
    }
  }

  /* STACK */
  .stack {
    @apply grid [grid-template-areas:_'stack'];

    > .stack__image {
      @apply h-full w-full [grid-area:stack];
    }

    > .stack__content {
      @apply relative w-full [grid-area:stack];
    }
  }

  .stack--center {
    @apply place-items-center;
  }

  .stack--end {
    @apply place-items-end;
  }
}
